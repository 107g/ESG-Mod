<?xml version="1.0" encoding="utf-8" ?>
<Datatable xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xsi:noNamespaceSchemaLocation="../Schemas/ScienceConstructibleElement.xsd">
  <!-- Vanilla -->
  <!-- Terraformation 1 -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration9" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration5To9'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayTechnologyTimeLords,FactionTraitInimical</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
    <GameSettingPrerequisite Flags="Prerequisite,Discard">FreeTerraformation,False</GameSettingPrerequisite>
    <SimulationDescriptorReference Name="TechnologyColonization8"/>
    <SimulationDescriptorReference Name="TechnologyLinkColonization8Common"/>
    <SimulationDescriptorReference Name="TechnologyCuriosityLevel2"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation1"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="AvailableDesertPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(AvailableDesertPlanets) *  1.5+ $(TurnVariable) * 20</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration9Unfallen" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration5To9'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyUnfallen" Inverted="false">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <GameSettingPrerequisite Flags="Prerequisite,Discard">FreeTerraformation,False</GameSettingPrerequisite>
    <SimulationDescriptorReference Name="TechnologyColonization8Unfallen"/>
    <SimulationDescriptorReference Name="TechnologyCuriosityLevel2"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation1"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="AvailableDesertPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(AvailableDesertPlanets) *  1.5+ $(TurnVariable) * 20</HelperFormula>
  </TechnologyDefinition>

  <!-- Riftborn -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration9TimeLords" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration5To9'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Type="string">ClassEmpire,FactionTraitInimical</PathPrerequisite>
    <GameSettingPrerequisite Flags="Prerequisite,Discard">FreeTerraformation,False</GameSettingPrerequisite>
    <SimulationDescriptorReference Name="TechnologyTerraformation1TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyCuriosityLevel2"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="AvailableMixedAnomaly"/>
    <HelperVariable Name="FoodPopulation"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>25 * $(TurnVariable) + 10 * $(FoodPopulation) + 10 * $(AvailableMixedAnomaly) </HelperFormula>
  </TechnologyDefinition>

  <!-- Terraformation 2 -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration31" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayTechnologyTimeLords,FactionTraitInimical</PathPrerequisite>
    <GameSettingPrerequisite Flags="Prerequisite,Discard">FreeTerraformation,False</GameSettingPrerequisite>
    <SimulationDescriptorReference Name="TechnologyTerraformation2"/>
    <SimulationDescriptorReference Name="TechnologyScience6"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>

    <HelperVariable Name="SciencePopulation"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>20 * $(TurnVariable) + $(SciencePopulation) * 10</HelperFormula>
  </TechnologyDefinition>

  <!-- Riftborn -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration31TimeLords" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Type="string">ClassEmpire,FactionTraitInimical</PathPrerequisite>
    <GameSettingPrerequisite Flags="Prerequisite,Discard">FreeTerraformation,False</GameSettingPrerequisite>
    <SimulationDescriptorReference Name="TechnologyTerraformation2TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyScience6"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>

    <HelperVariable Name="SciencePopulation"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>20 * $(TurnVariable) + $(SciencePopulation) * 10</HelperFormula>
  </TechnologyDefinition>

  <!-- Free -->
  <!-- Terraformation 1 -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration9Free" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration5To9'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayTechnologyTimeLords,FactionTraitInimical</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
    <GameSettingPrerequisite Flags="Prerequisite,Discard">FreeTerraformation,True</GameSettingPrerequisite>
    <SimulationDescriptorReference Name="TechnologyColonization8"/>
    <SimulationDescriptorReference Name="TechnologyLinkColonization8Common"/>
    <SimulationDescriptorReference Name="TechnologyCuriosityLevel2"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation1Free"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="AvailableDesertPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(AvailableDesertPlanets) *  1.5+ $(TurnVariable) * 20</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration9UnfallenFree" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration5To9'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyUnfallen" Inverted="false">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <GameSettingPrerequisite Flags="Prerequisite,Discard">FreeTerraformation,True</GameSettingPrerequisite>
    <SimulationDescriptorReference Name="TechnologyColonization8Unfallen"/>
    <SimulationDescriptorReference Name="TechnologyCuriosityLevel2"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation1Free"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="AvailableDesertPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(AvailableDesertPlanets) *  1.5+ $(TurnVariable) * 20</HelperFormula>
  </TechnologyDefinition>

  <!-- Riftborn -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration9TimeLordsFree" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration5To9'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Type="string">ClassEmpire,FactionTraitInimical</PathPrerequisite>
    <GameSettingPrerequisite Flags="Prerequisite,Discard">FreeTerraformation,True</GameSettingPrerequisite>
    <SimulationDescriptorReference Name="TechnologyTerraformation1TimeLordsFree"/>
    <SimulationDescriptorReference Name="TechnologyCuriosityLevel2"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="AvailableMixedAnomaly"/>
    <HelperVariable Name="FoodPopulation"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>25 * $(TurnVariable) + 10 * $(FoodPopulation) + 10 * $(AvailableMixedAnomaly) </HelperFormula>
  </TechnologyDefinition>

  <!-- Terraformation 2 -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration31Free" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayTechnologyTimeLords,FactionTraitInimical</PathPrerequisite>
    <GameSettingPrerequisite Flags="Prerequisite,Discard">FreeTerraformation,True</GameSettingPrerequisite>
    <SimulationDescriptorReference Name="TechnologyTerraformation2Free"/>
    <SimulationDescriptorReference Name="TechnologyScience6"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>

    <HelperVariable Name="SciencePopulation"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>20 * $(TurnVariable) + $(SciencePopulation) * 10</HelperFormula>
  </TechnologyDefinition>

  <!-- Riftborn -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration31TimeLordsFree" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Type="string">ClassEmpire,FactionTraitInimical</PathPrerequisite>
    <GameSettingPrerequisite Flags="Prerequisite,Discard">FreeTerraformation,True</GameSettingPrerequisite>
    <SimulationDescriptorReference Name="TechnologyTerraformation2TimeLordsFree"/>
    <SimulationDescriptorReference Name="TechnologyScience6"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>

    <HelperVariable Name="SciencePopulation"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>20 * $(TurnVariable) + $(SciencePopulation) * 10</HelperFormula>
  </TechnologyDefinition>
</Datatable>